import { signOut } from 'next-auth/react';
import Link from 'next/link';
import React, { useEffect, useRef } from 'react'

export default function ProfileDropDown({ state, closeModal, mobileNav=false }) {

  const modalRef = useRef(null);

  useEffect(() => {
    const handleClickOutsideLanguage = (event) => {
      if (modalRef.current && !modalRef.current.contains(event.target)) {
        closeModal();
      }
    };

    document.addEventListener('click', handleClickOutsideLanguage);

    return () => {
      document.removeEventListener('click', handleClickOutsideLanguage);
    };
  }, [closeModal]);

  return (
    <div ref={modalRef} style={!state?{boxShadow:'none',maxHeight:0,padding:0,border:0}:{ maxHeight:"145px",boxShadow: '0px 0px 0px 0px rgba(0, 0, 0, 0.10), 0px 4px 8px 0px rgba(0, 0, 0, 0.10), 0px 15px 15px 0px rgba(0, 0, 0, 0.09), 0px 33px 20px 0px rgba(0, 0, 0, 0.05), 0px 59px 23px 0px rgba(0, 0, 0, 0.01), 0px 92px 26px 0px rgba(0, 0, 0, 0.00)' }} className='transition-all duration-200 right-0 top-[110%] overflow-hidden absolute w-[142px] h-[151px] bg-[white] p-[16px] rounded-[6px] border border-primaryLighten2 flex flex-col gap-[5px]'>
      <Link href='/student-dashboard'>
      <div className='flex items-center gap-[4px]'>
        <svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1.80005 9.375C1.80005 9.07663 1.91858 8.79048 2.12955 8.5795C2.34053 8.36853 2.62668 8.25 2.92505 8.25H9.00005" stroke="#D27722" strokeWidth="0.9" strokeLinecap="round" strokeLinejoin="round" />
          <path d="M2.92505 1.5H9.00005V10.5H2.92505C2.62668 10.5 2.34053 10.3815 2.12955 10.1705C1.91858 9.95952 1.80005 9.67337 1.80005 9.375V2.625C1.80005 2.32663 1.91858 2.04048 2.12955 1.8295C2.34053 1.61853 2.62668 1.5 2.92505 1.5Z" stroke="#D27722" strokeWidth="0.9" strokeLinecap="round" strokeLinejoin="round" />
        </svg>
        <p className='font-outfit text-[16px] font-normal leading-normal'>Lessons</p>
      </div>
      </Link>
      <Link href='/student-dashboard/chat'>
      <div className='flex items-center gap-[4px]'>
        <svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.4501 5.77496C9.45165 6.3689 9.31288 6.95481 9.0451 7.48496C8.72759 8.12025 8.23949 8.65459 7.63545 9.02814C7.03141 9.40169 6.33531 9.59969 5.6251 9.59996C5.03116 9.60151 4.44525 9.46275 3.9151 9.19496L1.3501 10.05L2.2051 7.48496C1.93732 6.95481 1.79855 6.3689 1.8001 5.77496C1.80037 5.06475 1.99837 4.36865 2.37192 3.76461C2.74547 3.16058 3.27981 2.67247 3.9151 2.35496C4.44525 2.08718 5.03116 1.94842 5.6251 1.94996H5.8501C6.78805 2.00171 7.67397 2.39761 8.33821 3.06185C9.00245 3.72609 9.39835 4.61201 9.4501 5.54996V5.77496Z" stroke="#D27722" strokeWidth="0.9" strokeLinecap="round" strokeLinejoin="round" />
        </svg>
        <p className='font-outfit text-[16px] font-normal leading-normal'>Messages</p>
      </div>
      </Link>
      <Link href='/setting'>
      <div className='flex items-center gap-[4px]'>
        <svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clipPath="url(#clip0_1456_45724)">
            <path d="M5.40005 7.35002C6.14563 7.35002 6.75005 6.74561 6.75005 6.00002C6.75005 5.25444 6.14563 4.65002 5.40005 4.65002C4.65446 4.65002 4.05005 5.25444 4.05005 6.00002C4.05005 6.74561 4.65446 7.35002 5.40005 7.35002Z" stroke="#D27722" strokeWidth="0.9" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M8.72995 7.34993C8.67005 7.48565 8.65218 7.63621 8.67865 7.78219C8.70512 7.92817 8.77471 8.06287 8.87845 8.16893L8.90545 8.19593C8.98913 8.27951 9.05551 8.37877 9.1008 8.48803C9.1461 8.59729 9.16941 8.7144 9.16941 8.83268C9.16941 8.95095 9.1461 9.06806 9.1008 9.17732C9.05551 9.28658 8.98913 9.38584 8.90545 9.46943C8.82187 9.5531 8.72261 9.61949 8.61335 9.66478C8.50409 9.71007 8.38697 9.73338 8.2687 9.73338C8.15043 9.73338 8.03331 9.71007 7.92405 9.66478C7.8148 9.61949 7.71554 9.5531 7.63195 9.46943L7.60495 9.44243C7.4989 9.33868 7.36419 9.26909 7.21822 9.24262C7.07224 9.21616 6.92168 9.23402 6.78595 9.29393C6.65285 9.35097 6.53934 9.44569 6.45939 9.56642C6.37944 9.68715 6.33653 9.82862 6.33595 9.97343V10.0499C6.33595 10.2886 6.24113 10.5175 6.07235 10.6863C5.90356 10.8551 5.67465 10.9499 5.43595 10.9499C5.19726 10.9499 4.96834 10.8551 4.79956 10.6863C4.63077 10.5175 4.53595 10.2886 4.53595 10.0499V10.0094C4.53247 9.86048 4.48425 9.71602 4.39758 9.59484C4.31091 9.47366 4.18978 9.38135 4.04995 9.32993C3.91422 9.27002 3.76366 9.25216 3.61769 9.27862C3.47171 9.30509 3.33701 9.37468 3.23095 9.47843L3.20395 9.50543C3.12037 9.58911 3.02111 9.65549 2.91185 9.70078C2.80259 9.74607 2.68548 9.76938 2.5672 9.76938C2.44893 9.76938 2.33181 9.74607 2.22255 9.70078C2.1133 9.65549 2.01404 9.58911 1.93045 9.50543C1.84677 9.42184 1.78039 9.32258 1.7351 9.21332C1.68981 9.10406 1.66649 8.98695 1.66649 8.86868C1.66649 8.7504 1.68981 8.63329 1.7351 8.52403C1.78039 8.41477 1.84677 8.31551 1.93045 8.23193L1.95745 8.20493C2.06119 8.09887 2.13078 7.96417 2.15725 7.81819C2.18372 7.67221 2.16585 7.52165 2.10595 7.38593C2.04891 7.25283 1.95419 7.13932 1.83346 7.05936C1.71273 6.97941 1.57126 6.9365 1.42645 6.93593H1.34995C1.11126 6.93593 0.882338 6.84111 0.713555 6.67232C0.544772 6.50354 0.449951 6.27462 0.449951 6.03593C0.449951 5.79723 0.544772 5.56831 0.713555 5.39953C0.882338 5.23075 1.11126 5.13593 1.34995 5.13593H1.39045C1.5394 5.13244 1.68385 5.08423 1.80504 4.99756C1.92622 4.91088 2.01852 4.78976 2.06995 4.64993C2.12985 4.5142 2.14772 4.36364 2.12125 4.21766C2.09478 4.07168 2.02519 3.93698 1.92145 3.83093L1.89445 3.80393C1.81077 3.72034 1.74439 3.62108 1.6991 3.51182C1.65381 3.40256 1.63049 3.28545 1.63049 3.16718C1.63049 3.0489 1.65381 2.93179 1.6991 2.82253C1.74439 2.71327 1.81077 2.61401 1.89445 2.53043C1.97804 2.44675 2.0773 2.38036 2.18655 2.33507C2.29581 2.28978 2.41293 2.26647 2.5312 2.26647C2.64948 2.26647 2.76659 2.28978 2.87585 2.33507C2.98511 2.38036 3.08437 2.44675 3.16795 2.53043L3.19495 2.55743C3.30101 2.66117 3.43571 2.73076 3.58169 2.75723C3.72766 2.7837 3.87822 2.76583 4.01395 2.70593H4.04995C4.18305 2.64888 4.29656 2.55417 4.37651 2.43344C4.45647 2.31271 4.49937 2.17123 4.49995 2.02643V1.94993C4.49995 1.71123 4.59477 1.48231 4.76356 1.31353C4.93234 1.14475 5.16126 1.04993 5.39995 1.04993C5.63865 1.04993 5.86756 1.14475 6.03635 1.31353C6.20513 1.48231 6.29995 1.71123 6.29995 1.94993V1.99043C6.30053 2.13523 6.34344 2.27671 6.42339 2.39744C6.50334 2.51817 6.61685 2.61288 6.74995 2.66993C6.88568 2.72983 7.03624 2.7477 7.18222 2.72123C7.32819 2.69476 7.4629 2.62517 7.56895 2.52143L7.59595 2.49443C7.67954 2.41075 7.7788 2.34436 7.88805 2.29907C7.99731 2.25378 8.11443 2.23047 8.2327 2.23047C8.35097 2.23047 8.46809 2.25378 8.57735 2.29907C8.68661 2.34436 8.78586 2.41075 8.86945 2.49443C8.95313 2.57801 9.01951 2.67727 9.0648 2.78653C9.1101 2.89579 9.13341 3.0129 9.13341 3.13118C9.13341 3.24945 9.1101 3.36656 9.0648 3.47582C9.01951 3.58508 8.95313 3.68434 8.86945 3.76793L8.84245 3.79493C8.73871 3.90098 8.66912 4.03568 8.64265 4.18166C8.61618 4.32764 8.63405 4.4782 8.69395 4.61393V4.64993C8.75099 4.78302 8.84571 4.89653 8.96644 4.97649C9.08717 5.05644 9.22865 5.09935 9.37345 5.09993H9.44995C9.68865 5.09993 9.91756 5.19475 10.0863 5.36353C10.2551 5.53231 10.35 5.76123 10.35 5.99993C10.35 6.23862 10.2551 6.46754 10.0863 6.63632C9.91756 6.80511 9.68865 6.89993 9.44995 6.89993H9.40945C9.26465 6.9005 9.12317 6.94341 9.00244 7.02336C8.88171 7.10332 8.78699 7.21683 8.72995 7.34993Z" stroke="#D27722" strokeWidth="0.9" strokeLinecap="round" strokeLinejoin="round" />
          </g>
          <defs>
            <clipPath id="clip0_1456_45724">
              <rect width="10.8" height="10.8" fill="white" transform="translate(0 0.599976)" />
            </clipPath>
          </defs>
        </svg>
        <p className='font-outfit text-[16px] font-normal leading-normal'>Settings</p>
      </div>
      </Link>
    
      <div onClick={()=> signOut()} className='flex items-center gap-[4px] cursor-pointer'>
        <svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clipPath="url(#clip0_1456_45720)">
            <path d="M6.7502 1.95005L8.5502 1.95005C8.78889 1.95005 9.01781 2.04487 9.18659 2.21365C9.35537 2.38244 9.4502 2.61135 9.4502 2.85005L9.4502 9.15005C9.4502 9.38874 9.35537 9.61766 9.18659 9.78644C9.01781 9.95523 8.78889 10.05 8.5502 10.05L6.7502 10.05" stroke="#D27722" strokeWidth="0.9" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M3.6001 3.75L1.3501 6L3.6001 8.25" stroke="#D27722" strokeWidth="0.9" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M1.35024 6L6.75024 6" stroke="#D27722" strokeWidth="0.9" strokeLinecap="round" strokeLinejoin="round" />
          </g>
          <defs>
            <clipPath id="clip0_1456_45720">
              <rect width="10.8" height="10.8" fill="white" transform="translate(10.8 11.4) rotate(-180)" />
            </clipPath>
          </defs>
        </svg>
        <p className='font-outfit text-[16px] font-normal leading-normal'>Log Out</p>
      </div>
    </div>
  )
}
